<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Document</title>

    <style></style>
  </head>

  <body>
    <form>
      <div class="formBox">
        <label for="title">Encrypt Message</label>
        <input type="text" id="title" placeholder="Message" />
      </div>
      <div class="formBox">
        <button id="btn">Click to Convert</button>
      </div>
    </form>

    <input id="cb" type="checkbox" />

    <div id="result"></div>

    <script>
      //    let storeArr=[]

      const addText = ev => {
        ev.preventDefault();

        let movie = {
          id: Date.now(),
          title: document.getElementById("title").value,
          // year: document.getElementById('yr').value
        };

        // rot13("SERR CVMMN!")

        let x = document.getElementById("title").value;

        document.forms[0].reset();
        localStorage.setItem("SecretCode", x);
      };
      document.addEventListener("DOMContentLoaded", () => {
        document.getElementById("btn").addEventListener("click", addText);
      });

      const getText = function () {
        let getSecretCode = localStorage.getItem("SecretCode");

        //rot 13 JS Part
        function rot13(str) {
          let strArr = str.split("");

          let cipher = 13;
          let arrAZ = [
            "A",
            "B",
            "C",
            "D",
            "E",
            "F",
            "G",
            "H",
            "I",
            "J",
            "K",
            "L",
            "M",
            "N",
            "O",
            "P",
            "Q",
            "R",
            "S",
            "T",
            "U",
            "V",
            "W",
            "X",
            "Y",
            "Z",
          ];

          for (let i = 0; i < strArr.length; i++) {
            if (arrAZ.indexOf(strArr[i]) !== -1) {
              strArr[i] = arrAZ.indexOf(strArr[i]);
            }
          }

          for (let i = 0; i < strArr.length; i++) {
            let beforeCipher = strArr[i];
            if (Number.isInteger(beforeCipher)) {
              let afterCipher = cipher + beforeCipher;
              if (cipher + beforeCipher >= arrAZ.length) {
                afterCipher = cipher + beforeCipher - arrAZ.length;
              }
              strArr[i] = arrAZ[afterCipher];
            }
          }

          strArr = strArr.join("");

          return strArr;
        }

        console.log(rot13(getSecretCode));
        document.getElementById("result").innerHTML = rot13(getSecretCode);
      };
      document.addEventListener("DOMContentLoaded", () => {
        document.getElementById("btn").addEventListener("click", getText);
      });

      // localStorage.removeItem("SecretCode")
    </script>

    <svg
      style="width: 200px"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
    >
      <title>access-point</title>
      <path
        d="M4.93,4.93C3.12,6.74 2,9.24 2,12C2,14.76 3.12,17.26 4.93,19.07L6.34,17.66C4.89,16.22 4,14.22 4,12C4,9.79 4.89,7.78 6.34,6.34L4.93,4.93M19.07,4.93L17.66,6.34C19.11,7.78 20,9.79 20,12C20,14.22 19.11,16.22 17.66,17.66L19.07,19.07C20.88,17.26 22,14.76 22,12C22,9.24 20.88,6.74 19.07,4.93M7.76,7.76C6.67,8.85 6,10.35 6,12C6,13.65 6.67,15.15 7.76,16.24L9.17,14.83C8.45,14.11 8,13.11 8,12C8,10.89 8.45,9.89 9.17,9.17L7.76,7.76M16.24,7.76L14.83,9.17C15.55,9.89 16,10.89 16,12C16,13.11 15.55,14.11 14.83,14.83L16.24,16.24C17.33,15.15 18,13.65 18,12C18,10.35 17.33,8.85 16.24,7.76M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z"
      />
    </svg>
  </body>
</html>
